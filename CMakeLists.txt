# vim: set ts=4 sw=4 sts=4 et:

PROJECT (sqlite3pp)
CMAKE_MINIMUM_REQUIRED (VERSION 2.6)

SET (SQLITE3PP_MAJOR 1)
SET (SQLITE3PP_MINOR 0)
SET (SQLITE3PP_MICRO 0)

INCLUDE_DIRECTORIES ($ENV{BOOST_ROOT})

IF (NOT WIN32)
    SET (CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wall")
    IF (CMAKE_COMPILER_IS_GNUCC)
        INCLUDE (CheckCXXCompilerFlag)
        CHECK_CXX_COMPILER_FLAG (-fvisibility=hidden HAVE_GCC_VISIBILITY)
        IF (HAVE_GCC_VISIBILITY)
            SET (CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fvisibility=hidden")
        ENDIF (HAVE_GCC_VISIBILITY)
    ENDIF (CMAKE_COMPILER_IS_GNUCC)
ENDIF (NOT WIN32)

ADD_SUBDIRECTORY (src)
ADD_SUBDIRECTORY (tests)
